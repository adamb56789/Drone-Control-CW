<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.8) on Fri Dec 04 06:50:35 GMT 2020 -->
<title>EnhancedTwoOptTSP</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2020-12-04">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../../../../../../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../../../../../../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../../../../../../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="EnhancedTwoOptTSP";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../../../../../../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">uk.ac.ed.inf.aqmaps.flightplanning</a></div>
<h2 title="Class EnhancedTwoOptTSP" class="title">Class EnhancedTwoOptTSP</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.jgrapht.alg.tour.HamiltonianCycleAlgorithmBase&lt;V,&#8203;E&gt;</li>
<li>
<ul class="inheritance">
<li>org.jgrapht.alg.tour.TwoOptHeuristicTSP&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</li>
<li>
<ul class="inheritance">
<li>uk.ac.ed.inf.aqmaps.flightplanning.EnhancedTwoOptTSP</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>org.jgrapht.alg.interfaces.HamiltonianCycleAlgorithm&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code>, <code>org.jgrapht.alg.interfaces.HamiltonianCycleImprovementAlgorithm&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">EnhancedTwoOptTSP</span>
extends org.jgrapht.alg.tour.TwoOptHeuristicTSP&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</pre>
<div class="block">A modified version of TwoOptHeuristicTSP from JGraphT which is used to compute tours which visit
 all sensors and returns to the starting point. Source code of TwoOptHeuristicTSP can be found <a href="https://github.com/jgrapht/jgrapht/blob/master/jgrapht-core/src/main/java/org/jgrapht/alg/tour/TwoOptHeuristicTSP.java">here
 (GitHub)</a>.

 <p><a href="https://jgrapht.org/">JGraphT main website</a>, <a href="https://github.com/jgrapht/jgrapht">GitHub source</a>, accessed 30/11/2020

 <p>The following JavaDoc is unchanged from the the original:

 <p>The 2-opt heuristic algorithm for the TSP problem.

 <p>The travelling salesman problem (TSP) asks the following question: "Given a list of cities and
 the distances between each pair of cities, what is the shortest possible route that visits each
 city exactly once and returns to the origin city?".

 <p>This is an implementation of the 2-opt improvement heuristic algorithm. The algorithm
 generates <em>passes</em> initial tours and then iteratively improves the tours until a local
 minimum is reached. In each iteration it applies the best possible 2-opt move which means to find
 the best pair of edges $(i,i+1)$ and $(j,j+1)$ such that replacing them with $(i,j)$ and
 $(i+1,j+1)$ minimizes the tour length. The default initial tours use RandomTour, however an
 alternative algorithm can be provided to create the initial tour. Initial tours generated using
 NearestNeighborHeuristicTSP give good results and performance.

 <p>See <a href="https://en.wikipedia.org/wiki/2-opt">wikipedia</a> for more details.

 <p>This implementation can also be used in order to try to improve an existing tour. See method
 <a href="#improveTour(org.jgrapht.GraphPath)"><code>improveTour(GraphPath)</code></a>}.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="FlightPlanner.html" title="class in uk.ac.ed.inf.aqmaps.flightplanning">FlightPlanner</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#flightPlanner">flightPlanner</a></span></code></th>
<td class="colLast">
<div class="block">The FlightPlanner for computing tour weights</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.jgrapht.Graph&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#graph">graph</a></span></code></th>
<td class="colLast">
<div class="block">A graph representation of the sensors</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;java.lang.Integer&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#index">index</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#n">n</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.Map&lt;java.lang.Integer,&#8203;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#revIndex">revIndex</a></span></code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#start">start</a></span></code></th>
<td class="colLast">
<div class="block">The start and end position of the drone</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(int,int,uk.ac.ed.inf.aqmaps.geometry.Coords,uk.ac.ed.inf.aqmaps.flightplanning.FlightPlanner)">EnhancedTwoOptTSP</a></span>&#8203;(int&nbsp;passes,
                 int&nbsp;seed,
                 <a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>&nbsp;start,
                 <a href="FlightPlanner.html" title="class in uk.ac.ed.inf.aqmaps.flightplanning">FlightPlanner</a>&nbsp;flightPlanner)</code></th>
<td class="colLast">
<div class="block">Constructor</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#applyMove(int%5B%5D,int%5B%5D,int,int)">applyMove</a></span>&#8203;(int[]&nbsp;tour,
         int[]&nbsp;newTour,
         int&nbsp;i,
         int&nbsp;j)</code></th>
<td class="colLast">
<div class="block">This code is part of the original library's improve(), but it is extracted into a method to
 avoid duplication as this class uses it in more than one place.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDirectLength(java.util.List)">getDirectLength</a></span>&#8203;(java.util.List&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>&gt;&nbsp;tourList)</code></th>
<td class="colLast">
<div class="block">(New method, not in the library).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTour(org.jgrapht.Graph)">getTour</a></span>&#8203;(org.jgrapht.Graph&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;graph)</code></th>
<td class="colLast">
<div class="block">Computes a tour by first using JGraphT's TwoOptHeuristicTSP (the superclass of this) to find a
 short tour using the edge weights in the provided graph, which are straight line (obstacle
 avoiding) distance measures.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private java.util.List&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getTourAsList(int%5B%5D)">getTourAsList</a></span>&#8203;(int[]&nbsp;tour)</code></th>
<td class="colLast">
<div class="block">New method, not in the library.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#improve(int%5B%5D)">improve</a></span>&#8203;(int[]&nbsp;tour)</code></th>
<td class="colLast">
<div class="block">A modified version of the improve() method in the library.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#improveTour(org.jgrapht.GraphPath)">improveTour</a></span>&#8203;(org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;graphPath)</code></th>
<td class="colLast">
<div class="block">(Code unchanged from library code other than type parameters)</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#init(org.jgrapht.Graph)">init</a></span>&#8203;(org.jgrapht.Graph&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;graph)</code></th>
<td class="colLast">
<div class="block">(Reduced version of library code as we aren't using dist[][])</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private int[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#pathToTour(org.jgrapht.GraphPath)">pathToTour</a></span>&#8203;(org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;path)</code></th>
<td class="colLast">
<div class="block">(Code and Javadoc unchanged from library other than type parameters)</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#tourToPath(int%5B%5D)">tourToPath</a></span>&#8203;(int[]&nbsp;tour)</code></th>
<td class="colLast">
<div class="block">(Code and Javadoc unchanged from library other than type parameters)</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.jgrapht.alg.tour.HamiltonianCycleAlgorithmBase">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.jgrapht.alg.tour.HamiltonianCycleAlgorithmBase</h3>
<code>checkGraph, closedVertexListToTour, edgeSetToTour, getSingletonTour, requireNotEmpty, vertexListToTour</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="start">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>private final&nbsp;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a> start</pre>
<div class="block">The start and end position of the drone</div>
</li>
</ul>
<a id="flightPlanner">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>flightPlanner</h4>
<pre>private final&nbsp;<a href="FlightPlanner.html" title="class in uk.ac.ed.inf.aqmaps.flightplanning">FlightPlanner</a> flightPlanner</pre>
<div class="block">The FlightPlanner for computing tour weights</div>
</li>
</ul>
<a id="graph">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>graph</h4>
<pre>private&nbsp;org.jgrapht.Graph&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt; graph</pre>
<div class="block">A graph representation of the sensors</div>
</li>
</ul>
<a id="n">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>n</h4>
<pre>private&nbsp;int n</pre>
</li>
</ul>
<a id="index">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>index</h4>
<pre>private&nbsp;java.util.Map&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;java.lang.Integer&gt; index</pre>
</li>
</ul>
<a id="revIndex">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>revIndex</h4>
<pre>private&nbsp;java.util.Map&lt;java.lang.Integer,&#8203;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>&gt; revIndex</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(int,int,uk.ac.ed.inf.aqmaps.geometry.Coords,uk.ac.ed.inf.aqmaps.flightplanning.FlightPlanner)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>EnhancedTwoOptTSP</h4>
<pre>public&nbsp;EnhancedTwoOptTSP&#8203;(int&nbsp;passes,
                         int&nbsp;seed,
                         <a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>&nbsp;start,
                         <a href="FlightPlanner.html" title="class in uk.ac.ed.inf.aqmaps.flightplanning">FlightPlanner</a>&nbsp;flightPlanner)</pre>
<div class="block">Constructor</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>passes</code> - how many initial random tours to check when running 2-opt</dd>
<dd><code>seed</code> - the random seed</dd>
<dd><code>start</code> - the start position of the drone</dd>
<dd><code>flightPlanner</code> - the FlightPlanner to use for the second 2-opt pass to compute tour weights
     as the number of moves needed by the drone</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="init(org.jgrapht.Graph)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;init&#8203;(org.jgrapht.Graph&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;graph)</pre>
<div class="block">(Reduced version of library code as we aren't using dist[][])

 <p>Initialize graph and mapping to integer vertices.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>graph</code> - the input graph</dd>
</dl>
</li>
</ul>
<a id="improve(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>improve</h4>
<pre class="methodSignature">private&nbsp;int[]&nbsp;improve&#8203;(int[]&nbsp;tour)</pre>
<div class="block">A modified version of the improve() method in the library. The main difference is that this
 version does not have a distance matrix due to the fact that the distance between a pair of
 sensors depends heavily on the rest of the tour that it is in. Instead of calculating the
 distance change with

 <p><code>
 double change = dist[ci][cj] + dist[ci1][cj1] - dist[ci][ci1] - dist[cj][cj1];</code>

 <p>we instead use the FlightPlanner to plan a route along the tour, and compare its length to
 the unmodified tour. Since the tours being improved by this algorithm have already been through
 2-opt with direct distance measures, drastic changes to the tour are unlikely to improve it,
 and are also computationally expensive since they are longer and may collide with more
 buildings and so on. To avoid this, only tours which are close in distance to the original will
 be tried.

 <p>Original JGraphT JavaDoc:

 <p>Improve the tour using the 2-opt heuristic. In each iteration it applies the best possible
 2-opt move which means to find the best pair of edges $(i,i+1)$ and $(j,j+1)$ such that
 replacing them with $(i,j)$ and $(i+1,j+1)$ minimizes the tour length.

 <p>The returned array instance might or might not be the input array.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tour</code> - the input tour</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a possibly improved tour</dd>
</dl>
</li>
</ul>
<a id="getTourAsList(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTourAsList</h4>
<pre class="methodSignature">private&nbsp;java.util.List&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>&gt;&nbsp;getTourAsList&#8203;(int[]&nbsp;tour)</pre>
<div class="block">New method, not in the library. Converts a tour as an array to the corresponding list of
 Coords.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tour</code> - a tour as an int[]</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a List of Coords</dd>
</dl>
</li>
</ul>
<a id="getDirectLength(java.util.List)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDirectLength</h4>
<pre class="methodSignature">private&nbsp;double&nbsp;getDirectLength&#8203;(java.util.List&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>&gt;&nbsp;tourList)</pre>
<div class="block">(New method, not in the library). Computes the length of tour using the direct real distance
 between the vertices.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tourList</code> - the tour as a list of Coords</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the length of the tour in degrees, using euclidean distance (not using the flight
     planner)</dd>
</dl>
</li>
</ul>
<a id="applyMove(int[],int[],int,int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applyMove</h4>
<pre class="methodSignature">private&nbsp;void&nbsp;applyMove&#8203;(int[]&nbsp;tour,
                       int[]&nbsp;newTour,
                       int&nbsp;i,
                       int&nbsp;j)</pre>
<div class="block">This code is part of the original library's improve(), but it is extracted into a method to
 avoid duplication as this class uses it in more than one place.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tour</code> - the tour to apply the move to</dd>
<dd><code>newTour</code> - the new tour with the move applied</dd>
<dd><code>i</code> - the first swap point</dd>
<dd><code>j</code> - the second swap point</dd>
</dl>
</li>
</ul>
<a id="tourToPath(int[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tourToPath</h4>
<pre class="methodSignature">private&nbsp;org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;tourToPath&#8203;(int[]&nbsp;tour)</pre>
<div class="block">(Code and Javadoc unchanged from library other than type parameters)

 <p>Transform from an array representation to a graph path.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tour</code> - an array containing the index of the vertices of the tour</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a graph path</dd>
</dl>
</li>
</ul>
<a id="pathToTour(org.jgrapht.GraphPath)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>pathToTour</h4>
<pre class="methodSignature">private&nbsp;int[]&nbsp;pathToTour&#8203;(org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;path)</pre>
<div class="block">(Code and Javadoc unchanged from library other than type parameters)

 <p>Transform from a path representation to an array representation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>path</code> - graph path</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an array containing the index of the vertices of the tour</dd>
</dl>
</li>
</ul>
<a id="getTour(org.jgrapht.Graph)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTour</h4>
<pre class="methodSignature">public&nbsp;org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;getTour&#8203;(org.jgrapht.Graph&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;graph)</pre>
<div class="block">Computes a tour by first using JGraphT's TwoOptHeuristicTSP (the superclass of this) to find a
 short tour using the edge weights in the provided graph, which are straight line (obstacle
 avoiding) distance measures. Then, it runs a second pass of 2-opt to further improve upon the
 tour by instead using a FlightPlanner to generate the actual drone moves along the tour and
 using the number of moves as the weight of a tour.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>getTour</code>&nbsp;in interface&nbsp;<code>org.jgrapht.alg.interfaces.HamiltonianCycleAlgorithm&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>getTour</code>&nbsp;in class&nbsp;<code>org.jgrapht.alg.tour.TwoOptHeuristicTSP&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>graph</code> - the input sensor graph containing the start location and the sensors, and edge
     weights of the shortest path between two points which avoids obstacles.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the tour as a GraphPath</dd>
</dl>
</li>
</ul>
<a id="improveTour(org.jgrapht.GraphPath)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>improveTour</h4>
<pre class="methodSignature">public&nbsp;org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;improveTour&#8203;(org.jgrapht.GraphPath&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;&nbsp;graphPath)</pre>
<div class="block">(Code unchanged from library code other than type parameters)

 <p>Try to improve a tour by running the 2-opt heuristic using the FlightPlanner to measure the
 length of tours.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>improveTour</code>&nbsp;in interface&nbsp;<code>org.jgrapht.alg.interfaces.HamiltonianCycleImprovementAlgorithm&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code></dd>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code>improveTour</code>&nbsp;in class&nbsp;<code>org.jgrapht.alg.tour.TwoOptHeuristicTSP&lt;<a href="../geometry/Coords.html" title="class in uk.ac.ed.inf.aqmaps.geometry">Coords</a>,&#8203;org.jgrapht.graph.DefaultWeightedEdge&gt;</code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>graphPath</code> - a tour</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a possibly improved tour</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
