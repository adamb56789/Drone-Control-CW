List<Move> moveToWaypoint(currPos, currWaypoint)
    for each offset from 0, 10, -10, 20, -20,..., 170, -170, 180
		moveDir = offset + angle from currPos to currWaypoint
		afterPos = position after moving 0.0003 in the direction moveDir

		if the move collides with an obstacle then
			continue
		end if

		if currWaypoint is not the last waypoint and
		afterPos is in line of sight of the next waypoint then
			movesList = moveToWaypoint(afterPos, next waypoint);
			if movesList is not null then
				movesList.add(Move(currPos, afterPos, moveDir, null))
				return movesList
			else try next offset
		end if

		if afterPos if in range of the target sensor or end location then
			return [Move(currPos, afterPos, moveDir, targetSensor or null)]
		end if

		movesList = moveToWaypoint(afterPos, currWaypoint);
		if movesList is not null then
			movesList.add(Move(currPos, afterPos, moveDir, null))
			return movesList
		end if
    end for
    return null
  